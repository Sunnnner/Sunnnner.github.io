<!DOCTYPE html>
<html lang="en">
  <head>
	<meta name="generator" content="Hugo 0.113.0">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content=""
  />
  
    
      <title> | whiteKBlog</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <div id="root">
      <header>
  <div id="brand">
    <a class="icon-link" href="https://sunnnner.github.io/">
      <img
        class="icon"
        src="/images/brandIcon.svg"
      />
    </a>
    <div class="text">
      <a href="https://sunnnner.github.io/"><h1>whiteKBlog</h1></a>
      <h3>Description about Blog Author</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/"><b>Home</b></a>
      
         | 
        <a href="/search/"><b>Search</b></a>
      
         | 
        <a href="/links/"><b>Links</b></a>
      
    
  </nav>
  <hr />
</header>

      <div id="content">
        
	<main>
		
		
			<article class="summary">
  <a href="https://sunnnner.github.io/p/%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">
    <h1 class="title">什么是跨域及解决办法</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2019-09-09 11:39:55</time>
    
    
  </strong>
 <span> • 53 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/linux">linux</a>
    </div>
  
</div>

  <div class="content">
    <p>跨域 浏览器从一个域名的网页去请求另一个域名的资源时,浏览器处于安全的考虑,不允许不同源的请求 同源策略：协议相同， 域名相同， 端口相同 处理办法： 通过JSONP跨域 JSON是一种数据交换格式 JSONP是一种非官方的跨域数据交互协议 JSONP是包含在函数调用中的json sjonp是包含在函数调用中的json script标签不收同源策略的影响，手动创建一个script标签，传递URL， 同时传入一个回调函数的名字 服务器得到名字后， 返回数据时会用这个函数名来包裹数据， 客户端获取到数据之后， 立即吧script标签删掉 cors：跨域资源共享 使用自定义的HTTP头部允许浏览器和服务器相互通信 如果是简单请求,直接设置允许访问的域名： 允许你的域名来获取我的数据 response[‘Access-Control-Allow-Origin‘] = “*” 如果是复杂请求,首先会发送options请求做预检,然后再发送真正的PUT/POST….请求 因此如果复杂请求是PUT等请求,则服务端需要设置允许某请求 如果复杂请求设置了请求头，则服务端需要设置允许某请求头 简单请求： 一次请求 非简单请求： 两次请求，在发送数据之前会先发一次请求用于做“预检”， 只有“预检”通过后才再发送一次请求用于数据传输。 只要同时满足以下两大条件，就属于简单请求。 (1) 请求方法是以下三种方法之一：HEAD GET POST (2)HTTP的头信息不超出以下几种字段： 1 2 3 4 5 Accept Accept-Language Content-Language Last-Event-ID Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、 text/plain JSONP和CORS：
1.JSONP只能实现GET请求，而CORS支持所有类型的HTTP请求 2.jsonp需要client和server端的相互配合 3.cors在client端无需设置，server端需要针对不同的请求，来做head头的处理 </p>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://sunnnner.github.io/p/django_rest_framework/">
    <h1 class="title">Django_rest_framework</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2019-09-08 11:37:47</time>
    
    
  </strong>
 <span> • 97 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/drf">drf</a>
    </div>
  
</div>

  <div class="content">
    <p>为什么要使用Django_rest_framework 能自动生成restful规范的API
代码简介 并且开发速度快 Django_rest_framework框架有什么组件 序列化组件：serializers 对queryset序列化及对请求数据格式校验
路由组件：routers 进行路由开发 视图组件： ModelViewSet 帮助开发者提供了一些类。 并在类中提供了多个方法 认证组件： 写一个类并注册到选线类（authentication_classes）， 再类的authticate方法中编写认证逻辑 权限组件：写一个类并注册到权限类（permission_classes）, 在类中的has_permission方法中编写认证逻辑 频率限制： 写一个类并注册到频率类（throttle_classes）, 在类中的allow_request/wait方法中编写认证逻辑 解析器 选择对数据解析的类， 在解析类中注册(parser_classes) 渲染器 定义数据如何渲染到页面上， 在渲染器类中注册(render_classes) 分页 对获取到的数据进行分页处理 pagination_class 版本 版本控制用来在不同的客户端使用不同的行为 在URL中设置version参数， 用户请求时候传入参数， 在request.version中获取版本, 根据版本不同，做不同处理 django rest framework框架的认证流程 用户请求走进来进入APIView， 初始化了默认的认证方式
进入APIView.dispatch()方法， initial方法调用了request.user 如果我们配置了认证类， 走我们自己认证类中的authentication方法 django rest framework如何实现的用户访问频率控制 使用ip/用户账户作为建， 每次访问时间作为值， 构造一个字典数据， 存起来， 每次访问对时间列表进行判断
把没有访问的超时的删掉。 在计算列表剩余的元素就能做到频率限制了 匿名账户， 使用IP控制， 但是无法完全控制， 因为用户可以更换代理IP 登陆用户使用账号控制，但是如果有很多账号，也无法限制 如何实现用户登陆认证 cookice session
token 登陆成功后生成的加密字符串 JWT： json wed token 缩写， 他讲用户信息加密到token中 服务器不保存任何用户信息， 服务器通过使用保存的密匙来验证token的正确性 rest_framework序列化组件的作用,以及一些外键关系的钩子方法</p>
    
      <a href="https://sunnnner.github.io/p/django_rest_framework/">Read more...</a>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://sunnnner.github.io/p/%E4%BB%80%E4%B9%88%E6%98%AFrpc/">
    <h1 class="title">什么是RPC</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2019-09-07 11:36:55</time>
    
    
  </strong>
 <span> • 26 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/linux">linux</a>
    </div>
  
</div>

  <div class="content">
    <p>RPC
远程过程中调用(RPC) 是一种协议， 程序可使用这种协议向网络中的另一台计算机上的程序请求服务 RPC采用客户机/ 服务器模式， 请求程序就是一个客户机， 而服务提供程序就是一个服务器 first 客户机调用进程发送一个有进程参数的调用信息到服务进程，然后等待应答信息 second 在服务端， 进程保持睡眠状态知道调用信息到达为止， 当一个调用到达， 服务器或得晋城参数， 结果， 发送答复信息， 然后等待下一个调用信息 next 客户端调用进程接受答复信息， 或得进程结果， 然后调用执行继续进行 为什么要使用API
系统之间为了调用数据 数据的传输格式：json, xml </p>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://sunnnner.github.io/p/restful%E8%A7%84%E8%8C%83/">
    <h1 class="title">Restful规范</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2019-09-06 11:36:12</time>
    
    
  </strong>
 <span> • 19 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/rest">rest</a>
    </div>
  
</div>

  <div class="content">
    <p>restful 只是一种软件架构风格或者说是一种设计风格，它只是给我们提供了一个设计的原则和约束的条件，主要用于客户端与服务端的交互
我们可以根据自己的需求做的更加简洁， 更有层次
它里面提供了一些规范，比如restful提倡面向资源编程， 在URL接口中尽量使用名词， 不要使用动词
在restful推荐使用HTTPS协议，更加安全
尽量在URL中体现版本号
restful的method &lt;GET/ POST/ PUT/ DELETE/ PATCH&gt;
响应应该设置状态码
有返回值，并且为json格式
返回结果中要提供帮助链接， 即API最好做好Hypermedia</p>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://sunnnner.github.io/p/django%E4%B8%AD%E7%9A%84fbv%E5%92%8Ccbv/">
    <h1 class="title">Django中的FBV和CBV</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2019-09-05 11:34:25</time>
    
    
  </strong>
 <span> • 85 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/django">django</a>
    </div>
  
</div>

  <div class="content">
    <p>FBV fbv就是在url中一个路径对应一个函数
1 2 3 4 urlpatterns = [ url(r&#39;^admin/&#39;, admin.site.urls), url(r&#39;^index/&#39;, views.index) ] 视图函数中 1 2 def index(request): return render(request, &#39;index.html&#39;) CBV cbv就是在url中一个路径对应一个类
1 2 3 4 urlpatterns = [ url(r&#39;^admin/&#39;, admin.site.urls), url(r&#39;^index/&#39;, views.IndexView.as_views()) # 执行类后面的as_view()方法 ] 视图函数中 1 2 3 4 5 6 7 8 9 from django.views import View class IndexView(View): # 以get形式访问会执行get函数，一般情况下获取数据 def get(self, *args, **keargs): return HttpResponse(&#39;6666&#39;) # 以post形式访问的话会执行post函数，一般情况下发送数据 def post(self, *args, **kwargs): return HttpResponse(&#39;post ok&#39;) 注意: cbv定义类的时候必须要继承view 在写URL的时候必须要加as_view 类里面使用form表单提交的话只有get和post方法 restful规范：’get’获取数据, ‘post’创建新数据, ‘put’更新, ‘patch’局部更新, ‘delete’删除, ‘head’, ‘options’, ‘trace’ CBV重新定义dispatch函数 所有的方法本质上都是通过dispatch这个函数反射执行，如果想要在执行get或post方法前执行其他步骤，可以重写dispatch </p>
    
  </div>
</article>

		
		<div>
  
    <a href="/page/7/">Previous Page</a>
  
  8 of 16
  
    <a href="/page/9/">Next Page</a>
  
</div>

	</main>

      </div>
      <footer>
  <hr />
  
  <p class="copyright">
    Copyright © 2024
    <a href="https://sunnnner.github.io/"><strong>Blog Author</strong></a>.
    This work is licensed under the
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.
  </p>
  <p class="builtWith">
    Built with
    <a href="http://www.gohugo.io/">Hugo</a>,
    using the theme
    <a href="https://gitlab.com/ian-s-mcb/smigle-hugo-theme">smigle</a>,
    which was influenced by the theme
    <a href="https://github.com/sumnerevans/smol">smol</a>.
  </p>
</footer>

    </div>
  </body>
</html>
