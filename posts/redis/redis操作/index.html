<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="学无止境,hugo,python,go,java,linux,mysql,redis,nginx,git,github,linux,mysql,redis,nginx,git,github,微服务,个人博客"
  />
  
    
      <title>Redis操作 | 学无止境</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <div id="root">
      <header>
  <div id="brand">
    <a class="icon-link" href="https://sunnnner.github.io/">
      <img
        class="icon"
        src="/images/brandIcon.svg"
      />
    </a>
    <div class="text">
      <a href="https://sunnnner.github.io/"><h1>学无止境</h1></a>
      <h3>少年辛苦终身事,莫向光阴惰寸功。——唐·杜荀鹤《题弟侄书堂》</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/posts/"><b>主页</b></a>
      
         | 
        <a href="/categories/"><b>类别</b></a>
      
         | 
        <a href="/tags/"><b>标签</b></a>
      
    
  </nav>
  <hr />
</header>

      <div id="content">
        
  <main>
    <article>
      <h1 class="title">Redis操作</h1>
      
      <div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>15.01.2025</time>
    <span>in</span>
    
      <a href="/categories/redis">redis</a>
  </strong>
  <span> • 313 words</span>
  <span> • 2 minute read</span>
  
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/redis">redis</a>
    </div>
  
</div>

      <div class="content"><h1 id="redis-完全指南">Redis 完全指南</h1>
<h2 id="一redis概述">一、Redis概述</h2>
<h3 id="11-什么是redis">1.1 什么是Redis</h3>
<p>Redis(Remote Dictionary Server)是一个开源的高性能键值对(key-value)数据库。主要特点:</p>
<ul>
<li>基于内存运行,支持持久化</li>
<li>支持多种数据结构</li>
<li>支持主从复制</li>
<li>使用C语言编写,遵守BSD协议</li>
</ul>
<h3 id="12-主要特性">1.2 主要特性</h3>
<ul>
<li>性能优秀,支持10万/秒读写</li>
<li>数据类型丰富(String、Hash、List、Set、Zset)</li>
<li>原子性操作,所有操作都是原子性</li>
<li>支持发布/订阅模型</li>
<li>支持持久化机制</li>
</ul>
<h3 id="13-应用场景">1.3 应用场景</h3>
<ul>
<li>缓存系统</li>
<li>计数器/限流</li>
<li>消息队列</li>
<li>排行榜/计分板</li>
<li>Session共享</li>
<li>分布式锁</li>
</ul>
<h2 id="二安装部署">二、安装部署</h2>
<h3 id="21-linux安装">2.1 Linux安装</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 更新源</span>
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 安装Redis服务器</span>
</span></span><span style="display:flex;"><span>sudo apt-get install redis-server
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 启动Redis服务</span>
</span></span><span style="display:flex;"><span>redis-server
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试连接</span>
</span></span><span style="display:flex;"><span>redis-cli
</span></span><span style="display:flex;"><span>&gt; ping  <span style="color:#75715e"># 返回PONG表示成功</span>
</span></span></code></pre></div><h3 id="22-服务管理命令">2.2 服务管理命令</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 启动服务</span>
</span></span><span style="display:flex;"><span>sudo service redis start 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 停止服务  </span>
</span></span><span style="display:flex;"><span>sudo service redis stop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 重启服务</span>
</span></span><span style="display:flex;"><span>sudo service redis restart
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看版本</span>
</span></span><span style="display:flex;"><span>redis-cli --version
</span></span><span style="display:flex;"><span>redis-server -v
</span></span></code></pre></div><h2 id="三redis基本命令">三、Redis基本命令</h2>
<h3 id="31-键key操作">3.1 键(Key)操作</h3>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 查看所有键
keys *  

# 判断键是否存在
exists key

# 查看键类型
type key

# 删除键
del key 

# 设置过期时间(秒)
expire key seconds

# 查看剩余时间
ttl key
</code></pre><h3 id="32-数据库操作">3.2 数据库操作</h3>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 切换数据库 
select index

# 查看当前数据库的key数量
dbsize

# 清空当前数据库
flushdb

# 清空所有数据库
flushall
</code></pre><h2 id="四redis数据类型">四、Redis数据类型</h2>
<h3 id="41-string类型">4.1 String类型</h3>
<p>最基本的数据类型,可以存储字符串、整数或浮点数。</p>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 设置值
set key value
setex key seconds value  # 设置过期时间

# 获取值
get key
mget key1 key2  # 获取多个

# 数值操作
incr key  # 值+1
decr key  # 值-1 
incrby key increment  # 增加指定值
decrby key decrement  # 减少指定值
</code></pre><h3 id="42-hash类型">4.2 Hash类型</h3>
<p>适合存储对象,类似map结构。</p>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 设置
hset key field value
hmset key field1 value1 field2 value2

# 获取 
hget key field
hmget key field1 field2
hgetall key  # 获取所有字段和值

# 删除
hdel key field
</code></pre><h3 id="43-list类型">4.3 List类型</h3>
<p>有序字符串列表。</p>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 添加
lpush key value  # 左侧添加
rpush key value  # 右侧添加

# 查询
lrange key start stop  # 获取片段
llen key  # 获取长度 

# 删除
lpop key  # 左侧弹出
rpop key  # 右侧弹出
</code></pre><h3 id="44-set类型">4.4 Set类型</h3>
<p>无序字符串集合,元素不重复。</p>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 添加
sadd key member

# 查询
smembers key  # 获取所有成员
sismember key member  # 判断是否存在

# 集合运算
sinter key1 key2  # 交集
sunion key1 key2  # 并集
sdiff key1 key2   # 差集
</code></pre><h3 id="45-zset类型">4.5 Zset类型</h3>
<p>有序集合,每个元素关联一个分数。</p>
<pre tabindex="0"><code class="language-redis" data-lang="redis"># 添加
zadd key score member

# 查询
zrange key start stop  # 按分数获取片段
zcard key  # 获取成员数
zscore key member  # 获取分数

# 删除  
zrem key member
</code></pre><h2 id="五性能优化建议">五、性能优化建议</h2>
<ol>
<li>合理设置maxmemory</li>
<li>使用合适的淘汰策略</li>
<li>设置键值对生命周期</li>
<li>避免使用大key</li>
<li>使用批量操作提高效率</li>
</ol>
<h2 id="六安全建议">六、安全建议</h2>
<ol>
<li>设置访问密码</li>
<li>禁用危险命令</li>
<li>限制网络访问</li>
<li>定期备份数据</li>
<li>监控系统运行状态</li>
</ol></div>
    </article>
  </main>

      </div>
      <footer>
  <hr />
  
  <p class="copyright">
    Copyright © 2025
    <a href="https://sunnnner.github.io/"><strong>Blog Author</strong></a>.
    This work is licensed under the
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.
  </p>
  <p class="builtWith">
    备案号:
    <a href="https://beian.miit.gov.cn/" target="_blank">京ICP备2022023134号-1</a>
  </p>
</footer>

    </div>
  </body>
</html>
